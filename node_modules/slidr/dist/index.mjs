var e=function(){},n=function(e,n,t){return Math.min(Math.max(t,e),n)},t=function(e,t,o){return o<0?n(-e,-t,o):n(e,t,o)},o=function(e){return e.getBoundingClientRect().width},r=function(e,n){n.style.width=e+"px"},u=function(e,t,r){if(1===n(0,1,r/e))return e;var u=-1*r,i=t.find(function(e){return e.offsetLeft+o(e)/2>=u});return i?-i.offsetLeft:0},i=function(e,t,o){var r=n(0,Math.abs(e),Math.abs(t));return o.findIndex(function(e){return e.offsetLeft>=r})},a=function(e){return e.reduce(function(e,n){return e+o(n)},0)},c=function(e){var n=window.getComputedStyle(e);return new DOMMatrix(n.webkitTransform).m41},f=function(e,n){e.style.transform="translateX("+n+"px)"},v=function(e){return e instanceof MouseEvent},s=function(e,t,o,r){var u,i,a;return u=e,i=e+t,(1-(a=n(0,1,(r-e)/(t*o))))*u+a*i},d=function(e,n,t,o,r){return r>n?s(n,t,o,r):r<e?s(e,-t,o,r):r},m=function(e){return e},p=function(e){return e*(2-e)},l=function(e){return e<.5?2*e*e:(4-2*e)*e-1},h=function(n){var t=n.from,o=n.to,r=n.duration,u=n.onUpdate,i=n.onComplete;void 0===i&&(i=e);var a=n.ease;void 0===a&&(a=m);var c=!0,f=performance.now(),v=1e3*r,s=function(){var e=performance.now()-f;return u(a(e/v)*(o-t)+t),c?e<=v?requestAnimationFrame(s):(u(o),void i()):i()};return s(),function(){c=!1}},L={get:function(){return 0},set:e},g=function(e){var n=e,t=performance.now();return function(e){var o=performance.now(),r=o-t,u=e-n;return n=e,t=o,Math.sqrt(u*u)/r*Math.sign(u)}};function E(s){var m=s.container,E=s.slider,w=s.items,x=s.onIndexChange;void 0===x&&(x=e);var D=0,M=e,b=0,y=g(0),T=function(e){var n=e.element,t=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&-1===n.indexOf(o)&&(t[o]=e[o]);return t}(e,["element"]),o=0,r=0,u=10,i=!1,a=!1;function c(e){o=e.touches[0].clientX,r=e.touches[0].clientY}function f(e){var n=Math.abs(e.touches[0].clientX-o)>u,t=Math.abs(e.touches[0].clientY-r)>u;n&&i&&e.preventDefault(),t&&a&&e.preventDefault()}function v(e){var n=e.preventVertical;void 0===n&&(n=i);var t=e.preventHorizontal;void 0===t&&(t=a);var o=e.threshold;void 0===o&&(o=u),i=n,a=t,u=o}return v(t),n.addEventListener("touchstart",c),n.addEventListener("touchmove",f),{set:v,dispose:function(){n.addEventListener("touchstart",c),n.addEventListener("touchmove",f)}}}({element:m}),X=(S(),function(n){var t=n.element,o=n.onDragStart;void 0===o&&(o=e);var r=n.onDrag;void 0===r&&(r=e);var u=n.onDragEnd;void 0===u&&(u=e);var i=n.xLens;void 0===i&&(i=L);var a=n.yLens;void 0===a&&(a=L);var c=0,f=0,s=0,d=0,m=0,p=0;function l(e){var n=document.body;m=e.pageX-(t.offsetLeft+n.scrollLeft-n.clientLeft),p=e.pageY-(t.offsetTop+n.scrollTop-n.clientTop),c=i.get(),f=a.get(),o(c,f)}function h(e){if(v(e)){if(0!==e.button)return;l(e),document.addEventListener("mousemove",g),document.addEventListener("mouseup",E)}else l(e.touches[0]),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("touchend",E,{passive:!1});e.preventDefault()}function g(e){!function(e){d=f+e.pageY-p,i.set(s=c+e.pageX-m),a.set(d),r(s,d)}(v(e)?e:e.touches[0]),e.preventDefault()}function E(e){u(s,d),v(e)?(document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",E)):(document.removeEventListener("touchmove",g),document.removeEventListener("touchend",E)),e.preventDefault()}return t.addEventListener("mousedown",h),{dispose:function(){t.removeEventListener("mousedown",h),t.removeEventListener("touchstart",h)}}}({element:E,xLens:{get:function(){return c(E)},set:function(e){Y(e,!0,!0)}},onDragStart:function(){T.set({preventVertical:!0}),M()},onDragEnd:function(e){var o=t(1,1.5,-b)*n(O,0,e);T.set({preventVertical:!1}),V(u(O,w,o),C,p)}})),C=.4,O=o(m)-o(E);function Y(e,n,t){void 0===n&&(n=!1),void 0===t&&(t=!1),b=t?y(e):b;var o,r=n?d(O,0,200,10,e):e;(o=i(O,r,w))!==D&&(D=o,x(o)),f(E,r)}function S(){r(a(w),E)}function V(e,n,t){void 0===n&&(n=C),void 0===t&&(t=l),M(),M=h({from:c(E),to:e,duration:n,ease:t,onUpdate:Y})}function q(e,t){void 0===t&&(t=C),D=n(0,w.length-1,e),V(n(O,0,-w[D].offsetLeft),t),x(D)}return{next:function(){q(D+1)},previous:function(){q(D-1)},dispose:function(){T.dispose(),X.dispose()},goTo:q,update:function(){S(),q(D,0)}}}export{E as createDraggableSlider};
//# sourceMappingURL=index.mjs.map
