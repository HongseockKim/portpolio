!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.slidr={})}(this,function(e){var n=function(){},t=function(e,n,t){return Math.min(Math.max(t,e),n)},o=function(e){return e.getBoundingClientRect().width},r=function(e,n){n.style.width=e+"px"},i=function(e,n,o){var r=t(0,Math.abs(e),Math.abs(n));return o.findIndex(function(e){return e.offsetLeft>=r})},u=function(e){return e.reduce(function(e,n){return e+o(n)},0)},a=function(e){var n=window.getComputedStyle(e);return new DOMMatrix(n.webkitTransform).m41},c=function(e,n){e.style.transform="translateX("+n+"px)"},f=function(e){return e instanceof MouseEvent},s=function(e,n,o,r){var i,u,a;return i=e,u=e+n,(1-(a=t(0,1,(r-e)/(n*o))))*i+a*u},v=function(e,n,t,o,r){return r>n?s(n,t,o,r):r<e?s(e,-t,o,r):r},d=function(e){return e},m=function(e){return e*(2-e)},p=function(e){return e<.5?2*e*e:(4-2*e)*e-1},l=function(e){var t=e.from,o=e.to,r=e.duration,i=e.onUpdate,u=e.onComplete;void 0===u&&(u=n);var a=e.ease;void 0===a&&(a=d);var c=!0,f=performance.now(),s=1e3*r,v=function(){var e=performance.now()-f;return i(a(e/s)*(o-t)+t),c?e<=s?requestAnimationFrame(v):(i(o),void u()):u()};return v(),function(){c=!1}},h={get:function(){return 0},set:n};e.createDraggableSlider=function(e){var s=e.container,d=e.slider,L=e.items,g=e.onIndexChange;void 0===g&&(g=n);var E,w,x=0,D=n,M=0,b=(E=0,w=performance.now(),function(e){var n=performance.now(),t=n-w,o=e-E;return E=e,w=n,Math.sqrt(o*o)/t*Math.sign(o)}),y=function(e){var n=e.element,t=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&-1===n.indexOf(o)&&(t[o]=e[o]);return t}(e,["element"]),o=0,r=0,i=10,u=!1,a=!1;function c(e){o=e.touches[0].clientX,r=e.touches[0].clientY}function f(e){var n=Math.abs(e.touches[0].clientX-o)>i,t=Math.abs(e.touches[0].clientY-r)>i;n&&u&&e.preventDefault(),t&&a&&e.preventDefault()}function s(e){var n=e.preventVertical;void 0===n&&(n=u);var t=e.preventHorizontal;void 0===t&&(t=a);var o=e.threshold;void 0===o&&(o=i),u=n,a=t,i=o}return s(t),n.addEventListener("touchstart",c),n.addEventListener("touchmove",f),{set:s,dispose:function(){n.addEventListener("touchstart",c),n.addEventListener("touchmove",f)}}}({element:s}),T=(S(),function(e){var t=e.element,o=e.onDragStart;void 0===o&&(o=n);var r=e.onDrag;void 0===r&&(r=n);var i=e.onDragEnd;void 0===i&&(i=n);var u=e.xLens;void 0===u&&(u=h);var a=e.yLens;void 0===a&&(a=h);var c=0,s=0,v=0,d=0,m=0,p=0;function l(e){var n=document.body;m=e.pageX-(t.offsetLeft+n.scrollLeft-n.clientLeft),p=e.pageY-(t.offsetTop+n.scrollTop-n.clientTop),c=u.get(),s=a.get(),o(c,s)}function L(e){if(f(e)){if(0!==e.button)return;l(e),document.addEventListener("mousemove",g),document.addEventListener("mouseup",E)}else l(e.touches[0]),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("touchend",E,{passive:!1});e.preventDefault()}function g(e){!function(e){d=s+e.pageY-p,u.set(v=c+e.pageX-m),a.set(d),r(v,d)}(f(e)?e:e.touches[0]),e.preventDefault()}function E(e){i(v,d),f(e)?(document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",E)):(document.removeEventListener("touchmove",g),document.removeEventListener("touchend",E)),e.preventDefault()}return t.addEventListener("mousedown",L),{dispose:function(){t.removeEventListener("mousedown",L),t.removeEventListener("touchstart",L)}}}({element:d,xLens:{get:function(){return a(d)},set:function(e){O(e,!0,!0)}},onDragStart:function(){y.set({preventVertical:!0}),D()},onDragEnd:function(e){var n,r=((n=-M)<0?t(-1,-1.5,n):t(1,1.5,n))*t(C,0,e);y.set({preventVertical:!1}),Y(function(e,n,r){if(1===t(0,1,r/e))return e;var i=-1*r,u=n.find(function(e){return e.offsetLeft+o(e)/2>=i});return u?-u.offsetLeft:0}(C,L,r),X,m)}})),X=.4,C=o(s)-o(d);function O(e,n,t){void 0===n&&(n=!1),void 0===t&&(t=!1),M=t?b(e):M;var o,r=n?v(C,0,200,10,e):e;(o=i(C,r,L))!==x&&(x=o,g(o)),c(d,r)}function S(){r(u(L),d)}function Y(e,n,t){void 0===n&&(n=X),void 0===t&&(t=p),D(),D=l({from:a(d),to:e,duration:n,ease:t,onUpdate:O})}function V(e,n){void 0===n&&(n=X),x=t(0,L.length-1,e),Y(t(C,0,-L[x].offsetLeft),n),g(x)}return{next:function(){V(x+1)},previous:function(){V(x-1)},dispose:function(){y.dispose(),T.dispose()},goTo:V,update:function(){S(),V(x,0)}}}});
//# sourceMappingURL=index.umd.js.map
